


function generateRandomValues(min, max, interval, doorState) {
  let currentValue = max;
  let increment = 1;
  setInterval(() => {
    if (doorState === "open") {
      increment = 100 * Math.random() * (max - currentValue) / interval;
    } else if (doorState === "closed") {
      increment = -100 * Math.random() * (currentValue - min) / interval;
    }
    currentValue += increment;
    console.log(currentValue);
  }, interval);
}

generateRandomValues(5, 20, 300, doorState);



/*let randomDoorState = "open";
  function randomState()
  {
    if(randomDoorState == "open")
    {
      randomDoorState = "closed";
      console.log(randomDoorState);
    }
    else
    {
      randomDoorState = "open";
      console.log(randomDoorState);
    }
    return randomDoorState;
    setTimeout(randomState, 10000);
  }



  randomState();*/

/*
  let randomDoorState = "open";
  let test = "null";
  function randomState() 
  {
      if (randomDoorState == "open") 
      {
          randomDoorState = "closed";
      } 
      else 
      {
          randomDoorState = "open";
      }
      console.log("Status in Funktion: " + randomDoorState);
      test = randomDoorState;
      //setTimeout(randomState, 1000);
  }
randomState();
//setTimeout(console.log(test), 1000);
*/







//alte Funktion aus GPIO-Service
  /*const read = function(callback) 
  {
        //
        setInterval(() => 
        {
            // Generiert zufällige Temperaturwerte
            const temperature = randomTemp(1, 20).toFixed(1);
            //callback-Funktion aufrufen mit den erzeugten Daten
            callback(null, temperature, doorState);
        }, interval);
  }
  
   read(function(err, temperature, doorState) 
  {
      if (!err) 
      {
          console.log('Temperature: ' + temperature + '°C');
          mqttClient.publish(mqttTopic1, JSON.stringify(temperature)).then();
          console.log('Türstatus: ' + doorState);
          mqttClient.publish(mqttTopic2, JSON.stringify(doorState)).then();
          nameOfFunctionTwo(temperature).then(console.log("funktioniert"));
      }
  }); */


//Referenz: https://www.geeksforgeeks.org/how-to-generate-random-number-in-given-range-using-javascript/
/*function randomTemp(min, max) 
{
    return Math.random() * (max - min) + min;
}*/